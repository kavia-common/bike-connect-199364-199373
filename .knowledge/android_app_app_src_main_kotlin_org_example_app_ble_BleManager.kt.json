{"is_source_file": true, "format": "Kotlin", "description": "This Kotlin source file defines the BleManager class, which provides an interface for scanning and discovering BLE (Bluetooth Low Energy) devices on Android devices. It includes methods for starting and stopping scans, handling permissions, and processing scan results with filtering support.", "external_files": ["android.Manifest", "android.bluetooth.BluetoothAdapter", "android.bluetooth.BluetoothManager", "android.bluetooth.le.BluetoothLeScanner", "android.bluetooth.le.ScanCallback", "android.bluetooth.le.ScanFilter", "android.bluetooth.le.ScanResult", "android.bluetooth.le.ScanSettings", "android.content.Context", "android.content.pm.PackageManager", "android.os.Build", "android.os.ParcelUuid", "android.util.Log"], "external_methods": ["context.getSystemService()", "context.checkSelfPermission()", "BluetoothManager.getAdapter()", "BluetoothLeScanner.startScan()", "BluetoothLeScanner.stopScan()"], "published": ["isBluetoothAvailable", "isBluetoothEnabled", "startScanNoFilter", "startScanWithServiceUuid", "stopScan"], "classes": [{"name": "BleManager", "description": "Provides Bluetooth Low Energy scanning capabilities with permission handling and device discovery features.", "methods": [{"name": "isBluetoothAvailable", "description": "Checks if the device has a Bluetooth adapter."}, {"name": "isBluetoothEnabled", "description": "Checks if Bluetooth is currently enabled."}, {"name": "startScanNoFilter", "description": "Starts a BLE scan without filters for debugging device discovery."}, {"name": "startScanWithServiceUuid", "description": "Starts a filtered BLE scan by service UUID."}, {"name": "stopScan", "description": "Stops ongoing BLE scan."}]}], "methods": [{"name": "hasScanPermission", "description": "Checks if the app holds the BLUETOOTH_SCAN permission (Android 12+)."}, {"name": "hasConnectPermission", "description": "Checks if the app holds the BLUETOOTH_CONNECT permission (Android 12+)."}, {"name": "safeGetDeviceAddress", "description": "Retrieves the device address safely considering permissions."}, {"name": "safeGetDeviceName", "description": "Retrieves the device name considering permissions and scan record."}], "calls": ["context.getSystemService", "context.checkSelfPermission", "BluetoothManager.getAdapter", "BluetoothLeScanner.startScan", "BluetoothLeScanner.stopScan", "Log.e", "Log.w", "Log.i"], "search-terms": ["BleManager", "BLE scan", "Android BLE", "Bluetooth LE scanning", "startScanNoFilter", "startScanWithServiceUuid", "stopScan", "ScanCallback", "ScanFilter", "Android permissions", "BluetoothAdapter"], "state": 2, "file_id": 6, "knowledge_revision": 19, "git_revision": "", "revision_history": [{"16": ""}, {"19": ""}], "hash": "e0c0782fc29f44b17d880a46aee3ebb5", "format-version": 4, "code-base-name": "android_app", "filename": "android_app/app/src/main/kotlin/org/example/app/ble/BleManager.kt"}